<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Third Sun</title>
  <link rel="icon" type="image/png" href="/public/images/Logo-square.png">
  <link rel="preload" href="static/style/iiisunFont-Regular.otf" as="font" type="font/otf">

  <link rel="stylesheet" href="/public/style/index.css">
</head>

<body>
  <div class="container center">
    <img src="/public/images/loading.gif" alt="Loading..." width="400">
    <h4 id="loading-text"></h4>
  </div>

  <script>
    const loadTexts = [
      "Performing ritual...",
      "Framing masterwork...",
      "Sharpening axe...",
      "Enticing legend...",
      "Forming framework...",
      "Distilling dye...",
      "Crafting medium...",
      "Exploring darkness...",
      "Casting utensil...",
      "Scripting commandments...",
      "Weaving spells...",
      "Enscribing runes...",
      "Polishing compendeum..."
    ]
    document.querySelector("#loading-text").textContent = loadTexts[Math.ceil(Math.random()*loadTexts.length-1)];
    const sse = new EventSource("/load-event")
    sse.onmessage = (e) => {
      console.log('reload received')
      window.location.reload()
    }
    sse.onerror = (e) => sse.close()
    document.body.addEventListener("unload", () => sse.close())
  </script>
</body>
</html>